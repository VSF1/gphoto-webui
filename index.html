<!DOCTYPE html> 
<html>
<head>
	<title>TetherPI</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="js/jquery/1.10.2/jquery.js" type="text/javascript"></script>
	<link rel="stylesheet" href="js/jquery-mobile/1.4.2/jquery.mobile.css" />	
	<script src="js/jquery-mobile/1.4.2/jquery.mobile.js" type="text/javascript"></script>
	<script src="js/fancybox/3.5.7/jquery.fancybox.min.js" type="text/javascript"></script>
	<link rel="stylesheet" href="js/fancybox/3.5.7/jquery.fancybox.min.css"/>
	<script src="js/controller.js"></script>
	<script type="text/javascript">
		$.fancybox.defaults.buttons=["zoom", "slideShow","fullScreen","thumbs","close"];
	</script>
</head>

<style>
.ui-grid-a img {
    width  : 90%;
    height : auto;
    border:1px #444444 solid;
    box-shadow: 2px 2px 2px #888888;
}
</style>

<body>
	<div data-role="page" id="camera">
		<div data-role="header">			 
			<a href="#gallery" class="ui-btn-right ui-btn ui-btn-b ui-btn-inline ui-mini ui-corner-all ui-btn-icon-right ui-icon-grid">Gallery</a>
		</div><!-- /header -->

		<div role="main" class="ui-content" style="text-align:center;" id="cameraGrid">
			<script type="text/html" id="cameraTemplate">
				<div id="camera-@id">
					<h2 id="cameraInfo">Port: @cameraPort | @cameraName | SN: @cameraSerialNumber | Bat: @cameraBatteryLevel </h1>
					<h3 id="tetherStatus-@id">Tether Status: @cameraTetherStatus</h1>
					<button onclick="takePicture('@cameraPort')" id="snap"><img src="aperture.png" width="64"></button>	
					<button onclick="startTether('@cameraPort')" id="startTether">Start tether</button>
					<button onclick="stopTether('@cameraPort')" id="stopTether">Stop tether</button>
				</div>	
			</script>
		</div><!-- /content -->
	</div>

	<div data-role="page" id="gallery">
		<div data-role="header">
			<a href="#camera" class="ui-btn-left ui-btn ui-btn-b ui-btn-inline ui-mini ui-corner-all ui-btn-icon-right ui-icon-back">Camera</a>			
		</div><!-- /header -->
		<div role="main" class="ui-content">	
		<div class="ui-grid-a my-breakpoint" id="galleryGrid"></div>	
		<script type="text/html" id="galleryTemplate">
			<div class="ui-block-@char" id="@id" style="text-align:center">
				<p><a data-src="@imageLarge" data-caption="@imageName" href="javascript:void(0)	;" data-fancybox="preview"><img src="@imageThumb" /><a></p>
				<p>@imageName</p>
				<p><a target="_blank" href="service.php?action=getImage&file=@imageName">Download Source</a></p>
				<p><a href="javascript:deleteFile('@imageName');">Delete</a></p>
			</div>
		</script>		
		</div><!-- /content -->
	</div>


	<!-- Start of second page -->
	<div data-role="page" id="bar">
		<div data-role="header">
			<h1>Bar</h1>
		</div><!-- /header -->
		<div role="main" class="ui-content">
			<p>I'm the second in the source order so I'm hidden when the page loads. I'm just shown if a link that references my id is beeing clicked.</p>
			<p><a href="#foo">Back to foo</a></p>
		</div><!-- /content -->
	</div><!-- /page -->

</body>
</html>